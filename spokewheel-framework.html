<!-- 10-Law Integration - Add this before closing body tag -->
<script>
// 10-Law canonical catalog (names + links)
const LAWS_10 = [
  { id:"L1", n:1, title:"Downward Pull",           phys:"Gravity",               href:"law-1.html"  },
  { id:"L2", n:2, title:"Unbreakable Bond",        phys:"Strong Force",          href:"law-2.html"  },
  { id:"L3", n:3, title:"Illuminating Force",      phys:"Electromagnetism",      href:"law-3.html"  },
  { id:"L4", n:4, title:"Universal Decay",         phys:"Entropy",               href:"law-4.html"  },
  { id:"L5", n:5, title:"Observer Effect",         phys:"Quantum Measurement",   href:"law-5.html"  },
  { id:"L6", n:6, title:"Uncertainty Principle",   phys:"Heisenberg Limits",     href:"law-6.html"  },
  { id:"L7", n:7, title:"Dual Nature",             phys:"Wave–Particle",         href:"law-7.html"  },
  { id:"L8", n:8, title:"Relativistic Framework",  phys:"Relativity",            href:"law-8.html"  },
  { id:"L9", n:9, title:"Quantum Connection",      phys:"Entanglement",          href:"law-9.html"  },
  { id:"L10",n:10,title:"Unified Theory",          phys:"Θ = Q + U / GUT",       href:"law-10.html" }
];

// Add controls div if it doesn't exist
if (!document.querySelector('.controls')) {
    const controls = document.createElement('div');
    controls.className = 'controls';
    controls.style.cssText = 'position:absolute;top:120px;right:30px;z-index:100;';
    
    // Add style for control buttons
    const style = document.createElement('style');
    style.textContent = `
    .control-btn {
        display: block;
        margin: 10px 0;
        padding: 12px 20px;
        background: linear-gradient(45deg, rgba(255, 215, 0, 0.2), rgba(255, 255, 255, 0.1));
        border: 2px solid rgba(255, 215, 0, 0.5);
        color: white;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        text-align: center;
        backdrop-filter: blur(10px);
    }
    
    .control-btn:hover {
        background: linear-gradient(45deg, rgba(255, 215, 0, 0.4), rgba(255, 255, 255, 0.2));
        border-color: #FFD700;
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
    }
    
    .control-btn.active {
        background: linear-gradient(45deg, #FFD700, #FFA500);
        color: #000;
        border-color: #FFD700;
    }`;
    
    document.head.appendChild(style);
    
    // Create theory and law toggle buttons
    controls.innerHTML = `
        <div class="control-btn active" onclick="swapSpokes('theories')" id="btnSWTheories">12 Theories</div>
        <div class="control-btn" onclick="swapSpokes('laws10')" id="btnSWLaws10">10 Laws</div>
    `;
    
    document.querySelector('.main-container').appendChild(controls);
}
// If controls already exist, just add the 10 Laws button
else if (!document.getElementById('btnSWLaws10')) {
    document.querySelector('.controls').innerHTML += '<div class="control-btn" onclick="swapSpokes(\'laws10\')" id="btnSWLaws10">10 Laws</div>';
}

// Add spokes mode switching
let currentSpokeMode = 'theories';

function swapSpokes(mode) {
    currentSpokeMode = mode;
    document.querySelectorAll('.control-btn').forEach(btn => btn.classList.remove('active'));
    
    if (mode === 'laws10') {
        document.getElementById('btnSWLaws10').classList.add('active');
        document.querySelector('.info-panel h3').textContent = "The 10 Universal Laws";
        document.querySelector('.info-panel p').innerHTML = "<strong>10 Universal Laws</strong> arranged around <strong>Christ as the Logos</strong>";
    } else {
        document.getElementById('btnSWTheories').classList.add('active');
        document.querySelector('.info-panel h3').textContent = "The Theoretical Spokewheel Framework";
        document.querySelector('.info-panel p').innerHTML = "<strong>12 Theoretical Frameworks</strong> arranged in perfect symmetry around <strong>Christ as the Logos</strong>";
    }
    
    const field = document.getElementById('convergenceField');
    field.innerHTML = document.getElementById('divineCenter').outerHTML;
    
    if (mode === 'laws10') {
        renderLawSpokes(field);
    } else {
        createTheorySpokes();
    }
}

// Render the 10 Law spokes
function renderLawSpokes(field) {
    const center = {x: 600, y: 600};
    const radius = 320;
    
    LAWS_10.forEach((law, i) => {
        // Calculate position around center
        const angle = (i / LAWS_10.length) * 2 * Math.PI;
        const x = center.x + radius * Math.cos(angle);
        const y = center.y + radius * Math.sin(angle);
        
        // Create the law spoke
        const spoke = document.createElement('a');
        spoke.className = 'theory-spoke';
        spoke.href = law.href;
        spoke.style.background = 'linear-gradient(135deg, #FFD700, #FF6B35)';
        spoke.style.left = (x - 90) + 'px';
        spoke.style.top = (y - 40) + 'px';
        spoke.innerHTML = `Law ${law.n}<br>${law.title}`;
        
        // Add tooltip functionality
        spoke.addEventListener('mouseenter', (e) => {
            showTooltip(e, {
                name: `Law ${law.n}: ${law.title}`,
                description: `Physical domain: ${law.phys}. Click to explore the deep connection between physics and spiritual principles in this universal law.`
            });
        });
        spoke.addEventListener('mouseleave', hideTooltip);
        
        field.appendChild(spoke);
        
        // Create energy beams if the function exists
        if (typeof createEnergyBeam === 'function') {
            createEnergyBeam(center, {x, y}, i);
        } 
        // Or create a simple line connection
        else {
            const line = document.createElement('div');
            line.className = 'energy-stream';
            line.style.position = 'absolute';
            line.style.height = '2px';
            line.style.background = 'linear-gradient(90deg, transparent, #ffd700, transparent)';
            line.style.left = center.x + 'px';
            line.style.top = center.y + 'px';
            line.style.width = radius + 'px';
            line.style.transformOrigin = '0 0';
            line.style.transform = `rotate(${angle}rad)`;
            line.style.zIndex = '10';
            line.style.animation = 'energyFlow 4s linear infinite';
            line.style.animationDelay = (i * 0.2) + 's';
            field.appendChild(line);
        }
    });
}

// Add energy flow animation if it doesn't exist
if (!document.querySelector('style').textContent.includes('energyFlow')) {
    const flowAnimation = document.createElement('style');
    flowAnimation.textContent = `
    @keyframes energyFlow {
        0% { opacity: 0.3; height: 1px; }
        25% { opacity: 0.8; height: 3px; }
        50% { opacity: 1; height: 4px; }
        75% { opacity: 0.8; height: 3px; }
        100% { opacity: 0.3; height: 1px; }
    }`;
    document.head.appendChild(flowAnimation);
}

// Initialize the page - update existing initialization or add new
document.addEventListener('DOMContentLoaded', function() {
    // These functions should exist in your original code
    if (typeof createStarField === 'function') createStarField();
    if (typeof createTheorySpokes === 'function') createTheorySpokes();
    
    // Add click handler for the divine center if not already there
    const divineCenter = document.getElementById('divineCenter');
    if (divineCenter && !divineCenter._hasListeners) {
        divineCenter.addEventListener('mouseenter', (e) => {
            showTooltip(e, {
                name: 'Jesus Christ (The Logos)',
                description: 'The Logos - the rational principle through which potential becomes actual, information becomes physical, and divine interfaces with created reality. The unified center of all existence.'
            });
        });
        divineCenter.addEventListener('mouseleave', hideTooltip);
        divineCenter._hasListeners = true;
    }
});
</script>
